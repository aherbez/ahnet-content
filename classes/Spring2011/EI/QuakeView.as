package  {	import QuakeIMG;	import flash.display.MovieClip;	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.events.Event;	import flash.events.MouseEvent;	public class QuakeView extends MovieClip	{		private var quake_load:URLLoader;		private var quake_info:XML;		private var quakes:Array;		private var data_loaded:Boolean;				public function QuakeView() 		{			// constructor code			this.quakes = new Array();						this.data_loaded = false;						this.quake_load = new URLLoader();						this.quake_load.addEventListener(Event.COMPLETE,loadData);			this.quake_load.load(new URLRequest('http://127.0.0.1:8080/class05/index.php'));					stage.addEventListener(MouseEvent.MOUSE_MOVE,updateQuakes);				}			public function updateQuakes(e:Event)		{						if (this.data_loaded == true)			{				var mouse_mag = (mouseX / 800.0) * 8.0;								for (var i:int = 0; i<this.quakes.length; i++)				{					if (Math.abs(this.quakes[i].mag - mouse_mag) < 1)					{						this.quakes[i].alpha = 1;					}					else					{						this.quakes[i].alpha = 0;					}				}			}		}				public function loadData(e:Event)		{			this.quake_info = new XML(e.target.data);					var quakes = this.quake_info.quake;			for (var i:int = 0; i<quakes.length(); i++)			{				var q = new QuakeIMG(quakes[i].long,quakes[i].lat,quakes[i].mag);				addChild(q);								this.quakes[i] = q;			}						this.data_loaded = true;			trace('data loaded!');					}	}	}